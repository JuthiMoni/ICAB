<app-header></app-header>

<section class="container mt-3" style="color:#f8f0f0">
  <div class="card-body py-5 " style="background-color:#008080">

    <div class="row d-flex justify-content-center">
      <div class="col-lg-8">
        <h2 class="fw-bold mb-5 text-center">Product Management</h2>
        <form [formGroup]="form" (ngSubmit)="save()" name="main_form" >
          <!-- 2 column grid layout with text inputs for the first and last names -->
          <div class="row">
            <div class="form-outline mb-4">
              <label class="form-label" for="form3Example1">Product Name:</label>
              <input type="text" id="form3Example1" formControlName="productName" class="form-control" />
              <div
                *ngIf="f['productName'].invalid &&  (f['productName'].touched || f['productName'].dirty || submitted)"
                class="mt-2 alert alert-danger">
                <div *ngIf="f['productName'].errors?.required">Product Name is required.</div>

              </div>
            </div>

            <div class="col-md-6 mb-4">
              <div class="form-outline">

                <label class="form-label" for="form3Example2">Quantity:</label>
                <input type="number" id="form3Example2" formControlName="quantity" class="form-control" />
                <div *ngIf="f['quantity'].invalid &&  (f['quantity'].touched || f['quantity'].dirty || submitted)"
                  class="mt-2 alert alert-danger">
                  <div *ngIf="f['quantity'].errors?.required">quantity is required.</div>
                </div>
              </div>
            </div>


            <div class="col-md-6 mb-4">
              <div class="form-outline">
                <label class="form-label" for="form3Example3">Price:</label>
                <input type="number" id="form3Example3" class="form-control" formControlName="price" />
                <div *ngIf="f['price'].invalid &&  (f['price'].touched || f['price'].dirty || submitted)"
                  class="mt-2 alert alert-danger">
                  <div *ngIf="f['price'].errors?.required">Price is required.</div>
                </div>

              </div>
            </div>

          </div>

          <div class="form-outline mb-4">
            <label class="form-label" for="form3Example4">Remarks:</label>
            <textarea name="" class="form-control" formControlName="remarks"></textarea>
          </div>
          <button type="submit" style="width: 20rem; color:#380bdb ;background-color:#ececf5 " class="btn btn-success btn-block mb-4"> {{isEdit?'Update':
            'Save'}} </button>
        </form>
      </div>
    </div>
  </div>
<br>


  <!-- Section: Design Block -->
  <h2 class="fw-bold mb-5 text-center mt-3" style="color:#0b0b0b  ">Show product List</h2>
  <hr>
  <div class="table-responsive" style="background-color: #008080; color:#f8f0f0">
    <table class="table table-stribed " style="color:#f8f0f0">
      <!-- <caption>Show product List</caption> -->
    
      <thead>
        <tr>
          <th>Product Name</th>
          <th>Quantity</th>
          <th>Price</th>
          <th>Remarks</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let product of products">
          <td>{{product.productName}}</td>
          <td>{{product.quantity}}</td>
          <td>{{product.price}}</td>
          <td>{{product.remarks}}</td>


          <td class="text-center">
            <button type="button" style="margin-right: 10px;" class="btn btn-warning" (click)="edit(product)">
              <i class="fa fa-edit"></i>
            </button>
            <button type="button" class="btn btn-danger" (click)="deleteById(product.id)">
              <i class="fa fa-trash"></i>
            </button>

          </td>
        </tr>
      </tbody>
    </table>
  </div>
</section>